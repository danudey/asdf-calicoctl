#!/usr/bin/env bash

set -euo pipefail

function get_tags() {
    git ls-remote --q -t https://github.com/projectcalico/calico "refs/tags/v*-calicoctl" | awk -F/ '/v[0-9]+\.[0-9]+\.[0-9]+-calicoctl/ {print $3}'
}

for tag in $(get_tags); do
    echo ${tag%%-calicoctl} | tr -d 'v'
done | sort -uV | tr '\n' ' '

